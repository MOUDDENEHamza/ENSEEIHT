<!DOCTYPE html>
<!-- saved from url=(0074)http://sd-127206.dedibox.fr/hagimont/resources-N7/cloud/tp-kubernetes.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    
    <meta name="viewport" content="width=device-width initial-scale=1">
    <title>Kubernetes pratical classes</title>
    <link href="./TP5_files/css" rel="stylesheet" type="text/css">
    <link href="./TP5_files/css(1)" rel="stylesheet" type="text/css">
    <style type="text/css">html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none 0s ease 0s; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


@include-when-export url(https://fonts.loli.net/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext);
@include-when-export url(https://fonts.loli.net/css?family=Lato:900,300&subset=latin-ext);

:root {
	--control-text-color: #777;
}

/**
 * forked from pixyll.com
 * MIT license
 */

h1,
.h1,
.f1 {
	font-size: 2rem;
	line-height: 2.5rem;
}
h2,
.h2,
.f2 {
	font-size: 1.5rem;
	line-height: 2rem;
}
h3,
.h3,
.f3 {
	font-size: 1.25rem;
	line-height: 1.5rem;
}
p,
.p,
.f4,
h4,
h5,
h6,
dl,
ol,
ul,
pre[cid],
div[cid],
#typora-source {
	font-size: 1.125rem;
	line-height: 1.5rem;
}

h4 {
	font-size: 1.13rem;
}
/*
 Pixyll
 A simple, beautiful theme for Jekyll that emphasizes content rather than aesthetic fluff.
 Best served with BASSCSS (http://jxnblk.github.io/basscss)
 Crafted with <3 by John Otander (@4lpine) - ©2015 John Otander MIT License http://opensource.org/licenses/MIT

*/

body {
	font-family: "Merriweather", "PT Serif", Georgia, "Times New Roman", "STSong", Serif;
	line-height: 1.5rem;
	font-weight: 400;
}

#write {
	max-width: 914px;
	color: #333;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1100px;
	}
}

@media only screen and (min-width: 1700px) {
	#write {
		max-width: 1200px;
	}
}

img {
	width: auto;
	max-width: 100%;
}
body {
	font-size: 1.5rem;
	box-sizing: border-box;
	-moz-box-sizing: border-box;
	-webkit-box-sizing: border-box;
}

.ty-table-edit {
	background: #ededed;
}

table {
	width: 100%;
	font-size: 1.125rem;
}
table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td,
table > tfoot > tr > th,
table > tfoot > tr > td {
	padding: 12px;
	line-height: 1.2;
	vertical-align: top;
	border-top: 1px solid #333;
}
table > thead > tr > th {
	vertical-align: bottom;
	border-bottom: 2px solid #333;
}
table > caption + thead > tr:first-child > th,
table > caption + thead > tr:first-child > td,
table > colgroup + thead > tr:first-child > th,
table > colgroup + thead > tr:first-child > td,
table > thead:first-child > tr:first-child > th,
table > thead:first-child > tr:first-child > td {
	border-top: 0;
}
table > tbody + tbody {
	border-top: 2px solid #333;
}
p {
	font-weight: 300;
	line-height: 1.5;
}
abbr {
	border-bottom: 1px black dotted;
	cursor: help;
}
pre,
code {
	font-family: Menlo, Monaco, "Courier New", monospace;
}

code,
.md-fences  {
	color: #7a7a7a;
}

.md-fences {
	padding: 1.125em;
	margin-bottom: 0.88em;
	font-size: 1rem;
	border: 1px solid #7a7a7a;
	padding-bottom: 0.5rem;
	padding-top: 0.5rem;
}

blockquote {
	padding: 1.33em;
	font-style: italic;
	border-left: 5px solid #7a7a7a;
	color: #555;
}
blockquote em {
	color: #000;
}
blockquote footer {
	font-size: .85rem;
	font-style: normal;
	background-color: #fff;
	color: #7a7a7a;
	border-color: transparent;
}
h1,
.h1,
h2,
.h2,
h3,
.h3,
h4,
.h4,
h5,
.h5,
h6,
.h6 {
	font-family: "Lato", 'Helvetica Neue', Helvetica, sans-serif;
	font-weight: bold;
	line-height: 1.2;
	margin: 1em 0 0.5em;
}
@media screen and (min-width: 48em) {
	.h1,
	h1 {
		font-size: 3.250rem;
	}
	.h2,
	h2 {
		font-size: 2.298rem;
	}
	.h3,
	h3 {
		font-size: 1.625rem;
	}
	.h4,
	h4 {
		font-size: 1.3rem;
	}
	#write>h4.md-focus:before,
	#write>h5.md-focus:before,
	#write>h6.md-focus:before{
		top: 1px;
	}
	.p,
	p,
	li {
		font-size: 1.25rem;
		line-height: 1.8;
	}
	table {
		font-size: 1.25rem;
	}
}
@media (max-width: 48em) {
	blockquote {
		margin-left: 1rem;
		margin-right: 0;
		padding: 0.5em;
	}
	.h1,
	h1 {
		font-size: 2.827rem;
	}
	.h2,
	h2 {
		font-size: 1.999rem;
	}
	.h3,
	h3 {
		font-size: 1.413rem;
	}
	.h4,
	h4 {
		font-size: 1.3rem;
	}
}
@media screen and (min-width: 64em) {
	.h1,
	h1 {
		font-size: 4.498rem;
	}
	.h2,
	h2 {
		font-size: 2.29rem;
	}
	.h3,
	h3 {
		font-size: 1.9rem;
	}
	.h4,
	h4 {
		font-size: 1.591rem;
	}
	#write>h4.md-focus:before{
		top:4px;
	}
}
a {
	color: #463F5C;
	text-decoration: underline;
}

#write {
	padding-top: 2rem;
}

#write pre.md-meta-block {
	min-height: 35px;
	padding: 0.5em 1em;
	white-space: pre;
	border: 0px;

	border-left: 30px #f8f8f8 solid;
	border-right: 30px #f8f8f8 solid;
	width: 100vw;
	max-width: calc(100% + 60px);

	margin-left: -30px;
	margin-bottom: 2em;
	margin-top: -2010px;
	padding-top: 2000px;
	padding-bottom: 10px;
	line-height: 1.5em;
	color: #7a7a7a;
	background-color: #fafafa;
	font-family: 'Lato', 'Helvetica Neue', Helvetica, sans-serif;
	font-weight: 300;
	clear: both;
	padding-left: 0;
	font-size:1.125rem;
}
.md-image>.md-meta {
	color: #463F5C
}
.footnotes {
	font-size:1.1rem;
}
.md-tag {
	font-family: 'Lato', 'Helvetica Neue', Helvetica, sans-serif;
}
.code-tooltip {
	background: white;
}
.code-tooltip-content {
	font-size: 1.1rem;
}

.task-list{
	padding-left: 0;
}

.md-task-list-item {
	padding-left:34px;
}

.md-task-list-item > input{
	width: 1.25rem;
	height: 1.25rem;
	display: block;
	-webkit-appearance: initial;
	top: -0.2rem;
	margin-left: -1.6em;
	margin-top: calc(1rem - 7px);
	border: none;
}

.md-task-list-item > input:focus{
	outline: none;
	box-shadow: none;
}

.md-task-list-item > input:before{
	border: 1px solid #555;
	border-radius: 1.5rem;
	width: 1.5rem;
	height: 1.5rem;
	background: #fff;
	content: ' ';
	transition: background-color 200ms ease-in-out;
	display: block;
}

.md-task-list-item > input:checked:before,
.md-task-list-item > input[checked]:before{
	background: #333;
	border-width: 2px;
	display:inline-block;
	transition: background-color 200ms ease-in-out;
}

.md-task-list-item > input:checked:after,
.md-task-list-item > input[checked]:after {
	opacity: 1;
}

.md-task-list-item > input:after {
	opacity: 1;
	-webkit-transition: opacity 0.05s ease-in-out;
	-moz-transition: opacity 0.05s ease-in-out;
	transition: opacity 0.05s ease-in-out;
	-webkit-transform: rotate(-45deg);
	-moz-transform: rotate(-45deg);
	transform: rotate(-45deg);
	position: absolute;
	top: 0.4375rem;
	left: 0.28125rem;
	width: 0.9375rem;
	height: 0.5rem;
	border: 3px solid #fff;
	border-top: 0;
	border-right: 0;
	content: ' ';
	opacity: 0;
}

.md-tag {
	color:inherit;
}

.md-toc:focus .md-toc-content{
	margin-top: 19px;
}

#typora-sidebar {
	font-size:1rem !important;
}

.html-for-mac #typora-sidebar {
	background-color:white;
}

.outline-content li, .outline-content ul {
	font-size:1rem !important;
}

.outline-title {
	line-height: inherit;
	margin-top: 10px;
}

.outline-expander {
	width: 18px;
}

.outline-expander:before {
 	content: "+";
	font-family: inherit;
	color: rgb(108, 108, 108); 
  	font-size: 1.5rem;
 	top: 0.1rem;
}

.outline-expander:hover:before {
	content: "+";
}

.outline-item-open>.outline-item>.outline-expander:before{
	content: "-";
}

/** source code mode */
#typora-source {
	font-family: Courier, monospace;
    color: #6A6A6A;
}

.os-windows #typora-source {
	font-family: inherit;
}

.cm-s-typora-default .cm-header, 
.cm-s-typora-default .cm-property,
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor {
	color: #428bca;
}

.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number {
	color: #777777;
}

.md-diagram-panel {
	margin-top: 24px;
	margin-left: -1.2em;
}

.md-mathjax-midline {
	background: #fafafa;
}

.enable-diagrams pre.md-fences[lang="sequence"] .code-tooltip,
.enable-diagrams pre.md-fences[lang="flow"] .code-tooltip,
.enable-diagrams pre.md-fences[lang="mermaid"] .code-tooltip {
    bottom: -3.4em;
}

.dropdown-menu .divider {
	border-color: #e5e5e5;
}


</style>
  </head>
  <body class="typora-export">
    <div id="write" class="">
      <h1><a name="tp-kubernetes" class="md-header-anchor"></a><span>TP
          Kubernetes</span></h1>
      <p><span>	</span><span>Kubernetes is an open-source container management system, freely available. It provides a platform for automating deployment, scaling, and operations of application containers across clusters of hosts. Kubernetes gives you the freedom to take advantage of on-premises, hybrid, or public cloud infrastructure, releasing organizations from tedious deployment tasks.</span></p>
      <p><span>In this pratical class, we are going to: </span></p>
      <p><strong><span>- setup multi-node Kubernetes Cluster on Ubuntu 20.20 server;</span></strong></p>
      <p><strong><span>-  deploy an application and manage it on our deployed Kubernetes;</span></strong></p>
      <h2><a name="prerequisites" class="md-header-anchor"></a><span>Prerequisites</span></h2>
      <ul>
        <li><span>Two virtual machines or physical machines, known as nodes,  with ubuntu 20.20 server installed.</span></li>
        <li><span>A static IP address (masterIP) is configured on the first nodes (master node) and  also a static IP (slaveIP)  is configured on the second instance (slave node).  </span></li>
        <li><span>Minimum 4 GB RAM and 2 vCPU per node.</span></li>
        <li><span>root password is setup on each instance "toto".</span></li>
      </ul>
      <h2><a name="connection-to-your-nodes" class="md-header-anchor"></a><strong><span>Connection
            to your nodes</span></strong></h2>
      <p><span>You must be connected to N7 with the VPN and be connected to a N7 machine with your studenID. Use the following commands to access your server : </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure"></div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ssh &lt;your enseeiht user name&gt;@&lt;an enseeiht machine&gt;.enseeiht.fr</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Type your enseeiht password</span></p>
      <p><span>The master node port is 130XX  and the slave node  130XX+1</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ssh ubuntu@pc-sepia01 -p 130XX #connection to master node</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ssh ubuntu@pc-sepia01 -p 130XX+1 #connection to slave node</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Where XX=01-40. This will give you acces to a VM with IP address </span>
<span>192.168.27.</span><strong><span>(XX+10)</span></strong><span> and the password is "</span><em><span>toto</span></em><span>"</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo bash</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">apt-get update -y # On both node</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <h2><a name="node-configurations-" class="md-header-anchor"></a><span>Node
          configurations</span><code></code></h2>
      <p><span>You need to configure “hosts” file and hostname on each node in order to allow a network communication using the hostname. You begin by setting the master and slave node names.</span></p>
      <p><span>On the master node run: </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hostnamectl set-hostname master </span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>On the slave node run :</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hostnamectl set-hostname slave</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>You need to configure the hosts file. Therefore, run the following command on both nodes: </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">echo "slaveIP &nbsp; slave" &gt;&gt; /etc/hosts</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">echo "masterIP  master" &gt;&gt; /etc/hosts</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>You have to disable swap memory on each node. kubelets do not support swap memory and will not work if swap is active. Therefore, you need to run the following command on both nodes:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">swapoff -a</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <h2><a name="docker-installation" class="md-header-anchor"></a><strong><span>Docker
            installation</span></strong></h2>
      <p><span>	</span><span>Docker must be installed  on both the master and slave nodes. You start  by installing all the required packages. </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">wget -qO- https://get.docker.com/ | sh</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <h2><a name="kubernetes-installation" class="md-header-anchor"></a><span>Kubernetes
          installation</span></h2>
      <p><span>Next, you will need to install: kubeadm, kubectl and kubelet on both nodes.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">modprobe br_netfilter</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">net.bridge.bridge-nf-call-ip6tables = 1</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">net.bridge.bridge-nf-call-iptables = 1</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">EOF</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 84px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 84px;"></div>
          </div>
        </div>
      </pre>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sysctl --system</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cat &lt;&lt;EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">deb https://apt.kubernetes.io/ kubernetes-xenial main</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">EOF</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 63px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 63px;"></div>
          </div>
        </div>
      </pre>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">apt-get update</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">apt-get install kubelet kubeadm kubectl</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><strong><span>Good</span></strong><span>, all the required packages are installed on both servers.</span></p>
      <h2><a name="master-node-configuration" class="md-header-anchor"></a><span>Master
          node configuration</span></h2>
      <p><span> Now, it’s time to configure Kubernetes master Node. First, initialize your cluster using its private IP address with the following command:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubeadm init --pod-network-cidr=10.0.0.0/16</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><strong><span>Note:</span></strong></p>
      <ul>
        <li><em><span>pod-network-cidr</span></em><span> = specify the range of IP addresses for the pod network.  </span></li>
      </ul>
      <p><span>You should see the following output:</span></p>
      <p><img src="./TP5_files/image-20201013180013552.png" referrerpolicy="no-referrer" alt="image-20201013180013552"></p>
      <p><span>You have to save  the '</span><strong><span>kubeadm join ... ... ...</span></strong><span>' command. The command will be used to register new worker nodes to the kubernetes cluster.</span></p>
      <p><span>To use Kubernetes, you must run some commands as shown in the result (as root).</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mkdir -p $HOME/.kube</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 63px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 63px;"></div>
          </div>
        </div>
      </pre>
      <p><span>We have to check the status of the master node by running the following command:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get nodes</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get pods --all-namespaces</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>y</span><code>ou</code><span> can observe form the above output that the master node is listed as not ready. This is because the cluster does not have a Container Networking Interface (CNI).</span>
<span>Next, deploy the flannel network to the kubernetes cluster using the kubectl command.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Wait for a minute and check kubernetes node and pods using commands below.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get nodes</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get pods –all-namespaces</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>You should see the following output:</span></p>
      <p><img src="./TP5_files/image-20201013180131161.png" referrerpolicy="no-referrer" alt="image-20201013180131161"></p>
      <p><span>And you will get the 'kube-scheduler-master' node is running as a 'master' cluster with status 'ready'.</span></p>
      <p><strong><span>Kubernetes cluster master initialization and configuration has been completed.</span></strong></p>
      <h2><a name="slave-node-configuration" class="md-header-anchor"></a><span>Slave
          node configuration </span></h2>
      <p><span>Next, we need to log in to the slave node and add it to the cluster. Remember </span><strong><span>the join command in the output from the Master</span></strong><span> Node initialization command and issue it on the Slave Node as shown below:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">sudo kubeadm join ``xxx``.``xxx``.``xxx``.``xxx``:6443 --token wg42is.1hrm4wgvd5e7gbth &nbsp; &nbsp; --discovery-token-ca-cert-hash sha256:53d1cc33b5b8efe1b974598d90d250a12e61958a0f1a23f864579dbe67f83e30</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Once the Node is joined successfully, you should see the following output:</span></p>
      <p><img src="./TP5_files/image-20201013180330900.png" referrerpolicy="no-referrer" alt="image-20201013180330900"></p>
      <p><span>Now, go back to the master node and run the command “kubectl get nodes” to see that the slave node is now ready:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get nodes</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <h2><a name="nginx-deployment-some-fun" class="md-header-anchor"></a><strong><span>Nginx
            deployment (some fun)</span></strong><span> </span></h2>
      <p><span>We will deploy a little application in our Kubernetes cluster, a Nginx web server. We will use the YAML template. Create a new directory named 'nginx' and go to that directory.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 21px; left: 89px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mkdir -p nginx/</span></pre>
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">cd nginx/</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Now, you have to create the Nginx Deployment YAML file 'nginx-deployment.yaml'  and paste the following content.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" style="break-inside: unset;" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation" style="">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">apiVersion: apps/v1</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kind: Deployment</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">metadata:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  name: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">spec:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  selector:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  matchLabels:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  run: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  replicas: 2</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  template:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  metadata:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  labels:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  run: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  spec:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  containers:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  - name: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  image: nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  ports:</span></pre>
                      <div class="" style="position: relative;">
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  - containerPort: 80</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 399px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 399px;"></div>
          </div>
        </div>
      </pre>
      <p><strong><span>Note</span></strong><span>:</span></p>
      <ul>
        <li><span>We're creating a new 'Deployment' named 'nginx-deployment'.  </span></li>
        <li><span>Setup the app label as 'nginx' with 1 replicas.  </span></li>
        <li><span>The 'nginx-deployment' will have containers named 'nginx', based on 'nginx' docker image, and will expose the default HTTP port 80.  </span></li>
      </ul>
      <p><span>You can create the deployment by running the kubectl command below.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 373.797px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl create -f nginx-deployment.yaml</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>After creating a new 'nginx-deployment', check the deployments list inside the cluster. </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl describe deployment my-nginx</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Check the nodes the Pod is running on:.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get pods -l run=my-nginx -o wide</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Check your pods' IPs:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get pods -l run=my-nginx -o yaml | grep podIP</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>We need to create a new service for our 'nginx-deployment'. Therefore, create a new YAML file named 'nginx-service.yaml' with the following content. </span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure"><span><span>​</span>x</span></div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation" style="">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">apiVersion: v1</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kind: Service</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">metadata:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  name: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  labels:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  run: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">spec:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  ports:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  - port: 80</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  protocol: TCP</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  selector:</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  run: my-nginx</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 273px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 273px;"></div>
          </div>
        </div>
      </pre>
      <p><strong><span>Note:</span></strong></p>
      <ul>
        <li><span>We're creating a new kubernetes service named 'nginx-service'.  </span></li>
        <li><span>The service belongs to the app named 'my-nginx' based on our deployment 'nginx-deployment'.  </span></li>
      </ul>
      <p><span>To list the pods created by the deployment:</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> kubectl get pods -l run=my-nginx</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Create the Kubernetes service using the kubectl command below.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 345px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl create -f nginx-service.yaml</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Now check all available services on the cluster and you will get the 'nginx-service' on the list, then check details of service.</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 21px; left: 364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre>x</pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get service</span></pre>
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl describe service my-nginx</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 42px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 42px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Accessing the service</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl scale deployment my-nginx --replicas=0</span></pre>
                      </div>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl scale deployment my-nginx --replicas=2</span></pre>
                      <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">kubectl get pods -l run=my-nginx -o wide</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 63px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 63px;"></div>
          </div>
        </div>
      </pre>
      <p><span>Copy the clusterIP and use it to access your application</span></p>
      <pre spellcheck="false" class="md-fences md-end-block
        ty-contain-cm modeLoaded" lang="">        <div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="">
          <div style="overflow: hidden; position: relative; width: 3px;
            height: 0px; top: 0px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer" style="margin-left: 0px;
              margin-bottom: 0px; border-right-width: 0px;
              padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines" role="presentation">
                  <div role="presentation" style="position: relative;
                    outline: none;">
                    <div class="CodeMirror-measure">
                      <pre><span>xxxxxxxxxx</span></pre>
                    </div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-code" role="presentation">
                      <div class="CodeMirror-activeline" style="position: relative;">
                        <div class="CodeMirror-activeline-background
                          CodeMirror-linebackground"></div>
                        <div class="CodeMirror-gutter-background
                          CodeMirror-activeline-gutter" style="left:
                          0px; width: 0px;"></div>
                        <pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">curl &lt;clusterIP&gt;:80</span></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 0px; width: 1px;
              border-bottom: 0px solid transparent; top: 21px;"></div>
            <div class="CodeMirror-gutters" style="display: none;
              height: 21px;"></div>
          </div>
        </div>
      </pre>
      <p><span><br></span></p>
      <h2><a name="tomcat-deployment" class="md-header-anchor"></a><span>Tomcat
          Deployment</span></h2>
      <p><code>Y</code><span>ou will demonstrate that you followed the session by deploying the tomcat architecture of last class in your Kubernetes cluster (2 tomcats instance and 1 service, no need to use the haproxy.cfg file). </span></p>
      <p><img src="./TP5_files/image-20201006170634824.png" alt="image-20201006170634824"></p>
      <p><strong><span>Good luck!</span></strong><span> </span></p>
    </div>
  

</body></html>